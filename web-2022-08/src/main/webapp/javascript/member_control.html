<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>member_control.html</title>
		<link rel='stylesheet' href='css/member_control.css'>
		<script defer src='js/member_control.js'></script>
		<style>
			#photo_file{
				display:none;
			}
			#photo{
				width:60px;
				height:75px;
				border:2px solid #aaa;
				border-radius:7px;
			}
			#photo:hover{
				cursor:pointer;
			}
			#profile_photo{
				display: inline-block;
			}
			#right_profile{
				display: inline-block;
			}
		</style>
	</head>
	<body class = 'member_control_body'>
		<main class = 'member_control_main'>
			<div class = 'main_title'>
				회원 정보 CRUD
				<!-- (모든 프로그램의 기본 
				-> C:Create(생성,추가) R:Read(조회, 읽기) 
				   U:Update(수정) D:Delet(삭제)) -->
				<!-- 파일이든 네트워크든 이것만 잘 하면 됨 -->
			</div>
			<form name = 'frm_member'>
				<div id = 'profile_photo'>
					<input type='file' id='photo_file' />
					<img src='../test/img/19.PNG' id='photo'/>
				</div>
				<div id = 'right_profile'>
					<span>아이디</span>
					<input type='text' name='id' value='a001'><br/>
					<span>성명</span>
					<input type='text' name='name' value='hong'/><br/>
					<span>성별</span>
					<label><input type='radio' name='gender' value='m'>남자</label>
					<label><input type='radio' name='gender' value='f'>여자</label>
					<br/>
					<span>연락처</span>
					<input type='text' name='phone' value='010-1111-1234'/><br/>
				</div>
				<hr/>
				<span></span>
				<input type = 'button' value='CREATE' name= 'btnAppend' onclick= 'add(this.form)'/>
				<input type = 'button' value='UPDATE' name= 'btnUpdate' onclick= 'update(this.form)'/>
				<input type = 'button' value='DELETE' name= 'btnDelete' onclick= 'deleteFunc(this.form)'/>						
			</form>
			<div id = 'list'>
				<div id = 'title'>
					<span class='id'>아이디</span>
					<span class='name'>성명</span>
					<span class='gender'>성별</span>
					<span class='phone'>연락처</span>
				</div>
				<div id = 'items'>
					<div class='item'>						
					</div>
				</div>				
			</div>			
		</main>
		<output id = 'message_output'></output>
		<script>
		let btnFile = document.querySelector('#photo_file');		
		let photo = document.querySelector('#photo');
		
		photo.onclick = function(){
			btnFile.click();	//onclick:~했을 때, click:그냥 이벤트 발생함			
		}
		/*
		function preview(ev){
			let event = ev || window.event;
			let file = event.srcElement.files[0];	
			
			//FileReader 생성
			let reader = new FileReader();
			reader.onload=function(fev){				
				let img = new Image();
				img.src = reader.result;
				photo.src = img.src;
			}
			reader.readAsDataURL(file);
		}
		*/
		
		btnFile.onchange = function(ev){
			let file = ev.srcElement.files[0];
			let reader = new FileReader();
			reader.readAsDataURL(file);
			reader.onload=function(fev){
				let tempImg = new Image();
				tempImg.src = this.result;
				photo.src = tempImg.src;
			}
		}
		
		
	</script>
	</body>
</html>